{% extends 'home/layout.html' %}
{% load static %}

{% block title %}
Giftholic
{% endblock %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}">

<div class="container">
    <div id="carouselIndicator" class="carousel img-slide slide" data-ride="carousel">
        <ol class="carousel-indicators ml-5">
            <li data-target="#carouselIndicator" data-slide-to="0" class="active"></li>
            <li data-target="#carouselIndicator" data-slide-to="1"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active img-content">
                <img class="d-block" src="{% static 'images/giftholic-home.png' %}" alt="First slide">
            </div>
            <div class="carousel-item img-content">
                <img class="d-block" src="{% static 'images/cakee-home.png' %}" alt="Second slide">
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselIndicator" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next next-slide" href="#carouselIndicator" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>

<section class="bg-light" id="gifts-section">
    <div class="container-fluid gift-contents mt-5 mb-5 pt-4" style="height: auto;">
        <h2 class="gifts-section-heading text-uppercase text-center"> Most Popular Gifts & Hampers </h2>
        <div class="productContainer d-flex mt-5 pb-5">

            {% for popular in popularProducts %}

            <div class="ProductCard d-flex flex-column justify-content-between">
                <div class="ProdImg">
                    <a href="/products/detail/{{popular.product.id}}?product={{popular.product.name}}"><img
                            src="{{popular.product.imageURL}}" alt=""></a>
                </div>
                <div class="ProdTitle">
                    <h6>{{popular.product.name}}</h6>
                    <hr>
                </div>
                <div class="ProdInfo d-flex">
                    <div class="ProdPrice">
                        <h6> Rs. {{popular.product.price}}</h6>
                    </div>
                    <div class="ProdAvailability d-flex justify-content-end">
                        {% if popular.product.available == True %}
                        <h6>In Stock</h6>
                        {% else %}
                        <h6>Out of Stock</h6>
                        {% endif %}
                    </div>
                </div>
                <div class="ProdAction d-flex justify-content-between">
                    <div class="cartBtn d-flex justify-content-center align-items-center">
                        {% if user.is_authenticated %}
                        {% if popular.product.available == True %}
                        <button id="addTocart" data-product="{{popular.product.id}}" data-action="add"
                            class="addToCart update-cart">Add to Cart</button>
                        {% else %}
                        <button class="outOfStock" disa>Out of Stock</button>
                        {% endif %}
                        {% else %}
                        <form style="width: 100%;" action="/accounts/login/">
                            {% if popular.product.available == True %}
                            <button class="addToCart">Add to Cart</button>
                            {% else %}
                            <button class="outOfStock" disabled>Out of Stock</button>
                            {% endif %}
                        </form>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section class="bg-light" id="work-section">
    <div class="container work-process mt-5 mb-5 pt-4 pb-4">
        <h2 class="work-heading text-uppercase text-center"> How it Works? </h2>
        <div class="row mt-4">
            <div class="col-lg-3 col-md-6 text-center">
                <i class="fa fa-gift mb-3" id="how-it-works"></i>
                <h4 class="text-uppercase"> Choose a gift </h4>
                <p> Choose a gift of your choice from our website.</p>
            </div>
            <div class="col-lg-3 col-md-6 text-center">
                <i class="fa fa-shopping-cart mb-3" id="how-it-works"></i>
                <h4 class="text-uppercase"> Add to Cart </h4>
                <p> Select the choosen gift and add it to your shopping cart so that you can purchase it at anytime you
                    like. </p>
            </div>
            <div class="col-lg-3 col-md-6 text-center">
                <i class="far fa-credit-card mb-3" id="how-it-works"></i>
                <h4 class="text-uppercase"> Checkout </h4>
                <p> After being sure of buying the gift, you can checkout to confirm your order.</p>
            </div>
            <div class="col-lg-3 col-md-6 text-center">
                <i class="fa fa-thumbs-up mb-3" id="how-it-works"></i>
                <h4 class="text-uppercase"> Stay in touch </h4>
                <p> We will be more than happy if you keep on getting connected to us. </p>
            </div>
        </div>
    </div>
</section>

<section class="bg-white" id="testimonial-section">
    <div class="container review-box mt-5 mb-5">
        <h2 class="testimonial-heading text-uppercase text-center"> Testimonials </h2>
        <div class="row mt-4">
            <div id="carouselSlide" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselSlide" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselSlide" data-slide-to="1"></li>
                    <li data-target="#carouselSlide" data-slide-to="2"></li>
                    <li data-target="#carouselSlide" data-slide-to="3"></li>
                    <li data-target="#carouselSlide" data-slide-to="4"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active text-center">
                        <!-- <img class="d-block w-100" src="{% static 'images/giftholic-home.png' %}" alt="First slide"> -->
                        <p>If you really want to offer happiness to your loved ones, then this is the very right place.
                            <br> Thank you 'giftholic' for providing such amazing gifts that helped me <br> surprise my
                            bestfriend on her birthday <i class="fa fa-smile-beam"></i> </p>
                        <span>
                            <i class="fa fa-user text-danger"></i>
                            <strong> Simran Piya || Balkumari, Patan </strong>
                        </span>
                    </div>
                    <div class="carousel-item text-center">
                        <p>On the last minute of my son's 2nd birthday party, I ordered the decoration kits from
                            'Giftholic'. <br> All the products are very genuine and really loved the <br> customer
                            service!!! </p>
                        <span>
                            <i class="fa fa-user text-danger"></i>
                            <strong> Rupesh Shrestha || Kalimati, Kathmandu </strong>
                        </span>
                    </div>
                    <div class="carousel-item text-center">
                        <p> OMG, the customized home-made chocolate box is just finger-licking good. <br> It just melts
                            in the mouth, <br> highly recommended!!!</p>
                        <span>
                            <i class="fa fa-user text-danger"></i>
                            <strong> Ranisha Sharma || Baneshwor, Kathmandu </strong>
                        </span>
                    </div>
                    <div class="carousel-item text-center">
                        <p>I wanted to buy galaxy light so desparately for decorating my room. <br> Then, I found it on
                            'giftholic' at a very reasonable price.
                            <br> Me and my whole family loved it. <i class="fa fa-heart"></i>
                        </p>
                        <span>
                            <i class="fa fa-user text-danger"></i>
                            <strong> Amshula Sthapit || Basundhara, Kathmandu </strong>
                        </span>
                    </div>
                    <div class="carousel-item text-center">
                        <p> We often expect the thing we buy to be a little less amazing than we imagine it in our head.
                            <br>
                            But I can assure you thats not the case with 'Giftholic' <br> Definitely, recommended</p>
                        <span>
                            <i class="fa fa-user text-danger"></i>
                            <strong> John Rai || Sankhamul, Kathmandu </strong>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="bg-light" id="subscribe-section">
    <div class="container subscribe mt-5 mb-5 pt-4 pb-5">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2 class="subs-heading text-uppercase text-center"> subscribe for gift ideas</h2>
                <p class="subs-desc text-center"> subscribe to know more about latest offers, news & updates </p>
                <form action="/" method="post" class="form-inline d-flex mt-4 justify-content-center">
                    {% csrf_token %}
                    <label for="id-email" class="sr-only"></label>
                    <input type="email" class="form-control w-50 p-3" id="id-email" aria-describedby="emailHelp"
                        name="email_address" placeholder="Enter your email address">
                    <button class="btn btn-danger" type="submit">Subscribe</button>
                </form>
            </div>
        </div>
    </div>
</section>

<section class="bg-warning" id="service-section">
    <div class="container">
        <div class="row" style="height: 100px;">
            <div class="col-lg-3 col-6 services  d-flex justify-content-center align-items-center">
                <div class="col-lg-2">
                    <i class="fa fa-phone fa-flip-horizontal"></i>
                </div>
                <div class="col-lg-10">
                    <span class="d-inline-flex text-uppercase">
                        <h5> <strong>24/7 Support</strong> </h5>
                    </span>
                </div>
            </div>
            <div class="col-lg-3 col-6 services  d-flex justify-content-center align-items-center">
                <div class="col-lg-2">
                    <i class="fa fa-smile"></i>
                </div>
                <div class="col-lg-10">
                    <span class="d-inline-flex text-uppercase">
                        <h5> <strong>happiness guaranteed</strong> </h5>
                    </span>
                </div>
            </div>
            <div class="col-lg-3 col-6 services ml-5 d-flex justify-content-center align-items-center"
                style="border: none;">
                <div class="col-lg-2">
                    <i class="fa fa-check-circle"></i>
                </div>
                <div class="col-lg-10">
                    <span class="d-inline-flex text-uppercase">
                        <h5> <strong>100% genuine</strong> </h5>
                    </span>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    let favBtns = document.getElementsByClassName('favoriteBtn')
    for(let i=0; i < favBtns.length; i++){


            favBtns[i].addEventListener('click', function(){
            let productId = this.dataset.product
            $.ajax(
            {
                type:'get',
                url:'favoritethis',
                data:{
                    productId:productId
                },
                success:function(){
                    console.log("Sent prodID")
            }
        }
        )
        })
    }         
</script>

{% endblock content %}